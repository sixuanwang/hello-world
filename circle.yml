
dependencies:
  pre:
    # Setting up git account
    - |
      git config --global user.email "sixuan.wang@qlik.com"
      git config --global user.name "sixuanwang"
      git config --global push.default simple

deployment:
  deploy-master:
    branch: master
    commands:
      - |
        set -e
        # Clone the git repo
        git clone git@github.com:sixuanwang/hello-world
        cd hello-world
        git checkout master
        # Make sure it's up-to-date
        git remote add upstream git@github.com:sixuanwang/hello-world
        git fetch upstream && git rebase upstream/master
        git push
      - gradle releaseTag
